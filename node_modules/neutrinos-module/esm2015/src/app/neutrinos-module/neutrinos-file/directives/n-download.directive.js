import { __decorate } from "tslib";
import { Directive, Input, Output, EventEmitter, HostListener } from '@angular/core';
import { NFileIOService } from '../services/n-fileIO.service';
let NDownloadDirective = class NDownloadDirective {
    constructor(fsv) {
        this.fsv = fsv;
        this.onsuccess = new EventEmitter();
        this.onerror = new EventEmitter();
    }
    methodToHandleMouseClickAction() {
        this.downloadFile()
            .then(res => this.onsuccess.emit(res))
            .catch(err => this.onerror.emit(err));
    }
    downloadFile() {
        return this.fsv.download(this.downloadOptions);
    }
};
NDownloadDirective.ctorParameters = () => [
    { type: NFileIOService }
];
__decorate([
    Input()
], NDownloadDirective.prototype, "downloadOptions", void 0);
__decorate([
    Output()
], NDownloadDirective.prototype, "onsuccess", void 0);
__decorate([
    Output()
], NDownloadDirective.prototype, "onerror", void 0);
__decorate([
    HostListener('click')
], NDownloadDirective.prototype, "methodToHandleMouseClickAction", null);
NDownloadDirective = __decorate([
    Directive({ selector: '[n-download]' })
], NDownloadDirective);
export { NDownloadDirective };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibi1kb3dubG9hZC5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZXV0cmlub3MtbW9kdWxlLyIsInNvdXJjZXMiOlsic3JjL2FwcC9uZXV0cmlub3MtbW9kdWxlL25ldXRyaW5vcy1maWxlL2RpcmVjdGl2ZXMvbi1kb3dubG9hZC5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3JGLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUs5RCxJQUFhLGtCQUFrQixHQUEvQixNQUFhLGtCQUFrQjtJQUs3QixZQUFvQixHQUFtQjtRQUFuQixRQUFHLEdBQUgsR0FBRyxDQUFnQjtRQUg3QixjQUFTLEdBQXNCLElBQUksWUFBWSxFQUFFLENBQUM7UUFDbEQsWUFBTyxHQUFzQixJQUFJLFlBQVksRUFBRSxDQUFDO0lBRWYsQ0FBQztJQUVyQiw4QkFBOEI7UUFDbkQsSUFBSSxDQUFDLFlBQVksRUFBRTthQUNoQixJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUNyQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCxZQUFZO1FBQ1YsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDakQsQ0FBQztDQUNGLENBQUE7O1lBWDBCLGNBQWM7O0FBSjlCO0lBQVIsS0FBSyxFQUFFOzJEQUFvQztBQUNsQztJQUFULE1BQU0sRUFBRTtxREFBbUQ7QUFDbEQ7SUFBVCxNQUFNLEVBQUU7bURBQWlEO0FBSW5DO0lBQXRCLFlBQVksQ0FBQyxPQUFPLENBQUM7d0VBSXJCO0FBWFUsa0JBQWtCO0lBRDlCLFNBQVMsQ0FBQyxFQUFFLFFBQVEsRUFBRSxjQUFjLEVBQUUsQ0FBQztHQUMzQixrQkFBa0IsQ0FnQjlCO1NBaEJZLGtCQUFrQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpcmVjdGl2ZSwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBIb3N0TGlzdGVuZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5GaWxlSU9TZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvbi1maWxlSU8uc2VydmljZSc7XG5pbXBvcnQgeyBORGlyZWN0aXZlT3B0aW9ucyB9IGZyb20gJy4vZGlyZWN0aXZlLmNsYXNzJztcblxuXG5ARGlyZWN0aXZlKHsgc2VsZWN0b3I6ICdbbi1kb3dubG9hZF0nIH0pXG5leHBvcnQgY2xhc3MgTkRvd25sb2FkRGlyZWN0aXZlIHtcbiAgQElucHV0KCkgZG93bmxvYWRPcHRpb25zOiBORGlyZWN0aXZlT3B0aW9ucztcbiAgQE91dHB1dCgpIG9uc3VjY2VzczogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBvbmVycm9yOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGZzdjogTkZpbGVJT1NlcnZpY2UpIHsgfVxuXG4gIEBIb3N0TGlzdGVuZXIoJ2NsaWNrJykgbWV0aG9kVG9IYW5kbGVNb3VzZUNsaWNrQWN0aW9uKCkge1xuICAgIHRoaXMuZG93bmxvYWRGaWxlKClcbiAgICAgIC50aGVuKHJlcyA9PiB0aGlzLm9uc3VjY2Vzcy5lbWl0KHJlcykpXG4gICAgICAuY2F0Y2goZXJyID0+IHRoaXMub25lcnJvci5lbWl0KGVycikpO1xuICB9XG5cbiAgZG93bmxvYWRGaWxlKCkge1xuICAgIHJldHVybiB0aGlzLmZzdi5kb3dubG9hZCh0aGlzLmRvd25sb2FkT3B0aW9ucyk7XG4gIH1cbn1cbiJdfQ==